[gd_scene load_steps=19 format=2]

[ext_resource path="res://scenes/sonic.tscn" type="PackedScene" id=1]
[ext_resource path="res://scripts/PlayerStateMachine.gd" type="Script" id=2]
[ext_resource path="res://scripts/Player.gd" type="Script" id=3]

[sub_resource type="Animation" id=1]
length = 0.001

[sub_resource type="CapsuleShape" id=2]
radius = 0.473238
height = 0.002

[sub_resource type="AnimationNodeAnimation" id=3]
animation = "sc_jump_ball_loop"

[sub_resource type="AnimationNodeAnimation" id=4]
animation = "sc_jump_fall_loop"

[sub_resource type="AnimationNodeAnimation" id=5]
animation = "sc_landingma"

[sub_resource type="AnimationNodeAnimation" id=6]
animation = "sc_run_loop"

[sub_resource type="AnimationNodeAnimation" id=7]
animation = "sc_boost_loop"

[sub_resource type="AnimationNodeBlendSpace1D" id=8]
blend_point_0/node = SubResource( 6 )
blend_point_0/pos = -1.0
blend_point_1/node = SubResource( 7 )
blend_point_1/pos = 1.0

[sub_resource type="AnimationNodeStateMachineTransition" id=9]
switch_mode = 1

[sub_resource type="AnimationNodeStateMachineTransition" id=10]

[sub_resource type="AnimationNodeStateMachineTransition" id=11]
switch_mode = 1

[sub_resource type="AnimationNodeStateMachineTransition" id=12]
switch_mode = 1

[sub_resource type="AnimationNodeStateMachineTransition" id=15]
switch_mode = 2

[sub_resource type="AnimationNodeStateMachine" id=13]
states/sc_jump_ball_loop/node = SubResource( 3 )
states/sc_jump_ball_loop/position = Vector2( 212, 61.5 )
states/sc_jump_fall_loop/node = SubResource( 4 )
states/sc_jump_fall_loop/position = Vector2( 476, 63.25 )
states/sc_landingma/node = SubResource( 5 )
states/sc_landingma/position = Vector2( 695, 60.75 )
states/sc_run_blend_loop/node = SubResource( 8 )
states/sc_run_blend_loop/position = Vector2( 346.5, 172 )
transitions = [ "sc_jump_ball_loop", "sc_jump_fall_loop", SubResource( 9 ), "sc_jump_fall_loop", "sc_landingma", SubResource( 10 ), "sc_run_blend_loop", "sc_jump_ball_loop", SubResource( 11 ), "sc_run_blend_loop", "sc_jump_fall_loop", SubResource( 12 ), "sc_landingma", "sc_run_blend_loop", SubResource( 15 ) ]
start_node = "sc_run_blend_loop"

[sub_resource type="AnimationNodeStateMachinePlayback" id=14]

[node name="Player" type="KinematicBody"]
script = ExtResource( 3 )

[node name="Mesh" parent="." instance=ExtResource( 1 )]
transform = Transform( -1.62921e-07, 0, 1, 0, 1, 0, -1, 0, -1.62921e-07, 0, 0, 0 )

[node name="Skeleton" parent="Mesh/RootNode gltf orientation matrix/RootNode model correction matrix/chr_classicsonicfbx/Node/RootNode/Node 2" index="0"]
bones/3/bound_children = [ NodePath("BoneAttachment"), NodePath("BoneAttachment 2"), NodePath("BoneAttachment 3") ]

[node name="AnimationPlayer" parent="Mesh" index="1"]
anims/RESET = SubResource( 1 )

[node name="CollisionShape" type="CollisionShape" parent="."]
transform = Transform( 1.05447, 0, 0, 0, 1.05447, 0, 0, 0, 1.05447, 0.000599146, 0.458579, 0.000453234 )
shape = SubResource( 2 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 6 )

[node name="Node" type="Node" parent="."]
script = ExtResource( 2 )

[node name="Label" type="Label" parent="."]
margin_right = 40.0
margin_bottom = 14.0
__meta__ = {
"_edit_use_anchors_": false
}

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource( 13 )
anim_player = NodePath("../Mesh/AnimationPlayer")
active = true
parameters/playback = SubResource( 14 )
parameters/sc_run_blend_loop/blend_position = 0

[editable path="Mesh"]
